---
title: defineIntegration
description: Makes creating integrations easier, and adds a few goodies!
---

`defineIntegration` makes creating integrations easier, and adds a few goodies!

```ts title="my-integration/index.ts" "defineIntegration"
import {
    createResolver,
    defineIntegration,
    defineOptions,
} from "astro-integration-kit";
import { corePlugins } from "astro-integration-kit/plugins";

type Options = {
    foo?: string | undefined;
}

export default defineIntegration<{ foo?: string }>({
    name: "my-integration",
    options: defineOptions<Options>({ foo: "bar" }),
    plugins: [...corePlugins],
    setup({ options }) {
        const { resolve } = createResolver(import.meta.url);

        return {
            "astro:config:setup": ({ watchIntegration }) => {
                watchIntegration(resolve())
            }
        }
    }
})
```

## Features

### Defining an integration

- basic usage
- never pass generics directly
- link to guide

### Handling options and defaults

- quick snippet
- alert type note: really read defineOptions docs, super important
- link to defineOptions

### Using plugins

- how they work
- corePlugins
- link to guide to learn how to author them

### Adding the logic with `setup`

- arguments passed to setup
- what to do in setup
- what to return