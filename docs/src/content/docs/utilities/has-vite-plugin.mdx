---
title: hasVitePlugin
description: Checks whether a Vite plugin been added to the Astro config.
---

import { Tabs, TabItem } from '@astrojs/starlight/components';

`hasVitePlugin` checks whether a Vite plugin has already been added to the Astro config. For example:

<Tabs>
	<TabItem label="Utility">
	```ts title="my-integration/index.ts" /hasVitePlugin\\b/
	import {
		defineIntegration,
		hasVitePlugin
	} from "astro-integration-kit";

	export default defineIntegration({
		// ...
		setup() {
			return {
				"astro:config:setup": (params) => {
					const { logger } = params

					if (hasVitePlugin(params, { plugin: "vite-plugin-my-integration" })) {
						logger.warn("Vite plugin already exists!");
					}
				}
			}
		}
	})
	```
	</TabItem>
	<TabItem label="Plugin">
	```ts title="my-integration/index.ts" /hasVitePlugin\\b/ {2,6}
	import { defineIntegration } from "astro-integration-kit";
	import { hasVitePluginPlugin } from "astro-integration-kit/plugins";

	export default defineIntegration({
		// ...
		plugins: [hasVitePluginPlugin],
		setup() {
			return {
				"astro:config:setup": (params) => {
					const { hasVitePlugin, logger } = params

					if (hasVitePlugin("vite-plugin-my-integration")) {
						logger.warn("Vite plugin already exists!");
					}
				}
			}
		}
	})
	```
	</TabItem>
</Tabs>

:::caution
- `hasVitePlugin` cannot check for asynchronous Vite plugins
- **Extended Hook**: has to be the _first_ plugin inside the `plugins` array in order to correctly detect Vite plugins added inside your integration
- **Standalone Utility**: can only detect Vite plugins added from previously loaded integrations
:::